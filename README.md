# 北航自动评教工具

一个基于Python的北航教学评价系统自动化工具，可以自动完成学生评教任务。

## 功能特性

- 🔐 自动登录北航统一身份认证（SSO）系统
- 📋 自动获取评教任务和问卷列表
- ⚡ 批量处理所有待评教课程
- 🎯 智能随机评分策略（确保高分评价）
- 📊 详细的执行过程日志输出
- 🔄 自动重试机制处理网络异常

## 项目结构

```
buaa-auto-evaluation/
├── main.py              # 主程序入口
├── sso.py              # SSO认证和API封装
├── requirements.txt    # 项目依赖
├── .gitignore         # Git忽略文件
└── README.md          # 项目说明文档
```

## 安装说明

### 环境要求

- Python 3.7+
- 网络连接

### 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 直接运行

```bash
python main.py
```

### 运行流程

1. **输入凭据**：程序启动后输入北航学号和密码
2. **自动登录**：通过[`sso.API`](sso.py)类自动完成SSO认证
3. **获取任务**：自动获取当前学期的评教任务
4. **批量评教**：遍历所有待评教课程进行自动评价
5. **完成提示**：显示评教完成情况

### 示例输出

```
============================================================
      欢迎使用北航自动评教工具
============================================================
请输入学号: 21373xxx
请输入密码: ********
✅ 登录成功
当前评教学期: 2024-2025学年第1学期
学期: 20241
任务: 学生评教
问卷列表:
  - 问卷: 课程教学质量评价, 任务: 学生评教
📋 当前课程: 课程：高等数学, 教师：张三
✅ 问卷 高等数学 - 张三 提交成功
总课程数: 15
```

## 核心模块

### SSO认证模块 ([sso.py](sso.py))

- [`API`](sso.py) 类：继承自`requests.Session`，提供统一的HTTP请求接口
- [`LoginError`](sso.py) 异常：处理登录失败情况
- 自动处理会话保持和重新登录
- 支持自动重试机制

### 主程序 ([main.py](main.py))

- [`main`](main.py) 函数：程序主入口
- 完整的评教流程自动化
- 智能的评分策略（大部分题目选最高分，随机一题选次高分）
- 详细的错误处理和日志输出

## 评分策略

程序采用智能评分策略确保给出积极正面的评价：

- 🎯 **主要策略**：大部分题目选择最高分选项
- 🎲 **随机策略**：随机选择一个题目给次高分（增加真实性）
- 📊 **固定分数**：最终评分设定为93分

## 注意事项

⚠️ **重要提醒**

1. **仅供学习参考**：本工具仅用于学习自动化技术，请谨慎使用
2. **账号安全**：请妥善保管个人账号信息
3. **网络环境**：建议在校园网环境下使用以获得最佳体验
4. **评教责任**：评教是学生的权利和义务，请理性对待
5. **合规使用**：请遵守学校相关规定，不要滥用此工具

## 依赖说明

- `requests==2.32.3`：HTTP请求库，用于与评教系统API交互

## 故障排除

### 常见问题

1. **登录失败**
   - 检查学号和密码是否正确
   - 确认账号未被锁定
   - 检查网络连接状态

2. **获取数据失败**
   - 检查是否在评教时间内
   - 确认是否有待评教课程
   - 尝试重新运行程序

3. **提交失败**
   - 可能该课程已完成评教
   - 检查网络连接稳定性
   - 查看具体错误信息

## 免责声明

本工具仅供学习和研究使用。使用者应当：

- 遵守学校的各项规章制度
- 理性对待教学评价工作
- 承担使用本工具的相关责任
- 不得将本工具用于任何违法违规活动

## 许可证

本项目仅供学习交流使用，请勿用于商业用途。

---

**开发者提醒**：教学评价是改进教学质量的重要途径，请在使用自动化工具的同时，也要认真思考对课程和教师的真实评价。
